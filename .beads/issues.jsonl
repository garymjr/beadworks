{"id":"server-2fo","title":"Fix TypeScript errors in UI package","description":"Fix all typescript errors in the UI package","status":"open","priority":0,"issue_type":"chore","created_at":"2025-12-24T00:23:54.678001-07:00","updated_at":"2025-12-24T00:23:54.678001-07:00","labels":["chore","frontend","type-checking","typescript","ui"]}
{"id":"server-d98","title":"Persist projects to JSON file system storage","description":"We currently persist project information in local storage, but i want to move the data to a locally persistem json file instead","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-23T23:53:41.335092-07:00","updated_at":"2025-12-24T00:34:50.955478-07:00","labels":["ai-plan-generated","backend","feature","json","refactor","storage"],"comments":[{"id":4,"issue_id":"server-d98","author":"garymjr","text":"ðŸ¤– AI-Generated Plan\n\nCreate a backend file system storage service with JSON persistence, expose REST API endpoints for project CRUD operations, update the frontend to use the API instead of localStorage, and implement a one-time migration from localStorage to the new storage mechanism.\n\n**Subtasks:**\n1. **Create file system storage service on backend** - Create packages/server/src/services/storage.service.ts with functions for reading/writing JSON files. Implement createProject, getProject, listProjects, updateProject, and deleteProject methods. Use Node.js fs.promises for async file operations. Create a .data/projects directory if it doesn't exist. Add proper error handling for ENOENT, EACCES, and JSON parse errors.\n2. **Create REST API endpoints for project CRUD** - Add routes in packages/server/src/routes/projects.ts for GET /api/projects (list), GET /api/projects/:id (read), POST /api/projects (create), PUT /api/projects/:id (update), DELETE /api/projects/:id (delete). Integrate with storage.service.ts. Add request validation using zod or similar. Return proper HTTP status codes (200, 201, 404, 400, 500). Register routes in the main server file.\n3. **Create API client service on frontend** - Create packages/ui/src/lib/api/projects.ts with functions matching the backend endpoints (getProjects, getProject, createProject, updateProject, deleteProject). Use fetch or axios for HTTP requests. Implement proper error handling with try/catch and typed return values. Add loading state management if needed.\n4. **Update frontend to use API instead of localStorage** - Find all localStorage usage in packages/ui (grep for 'localStorage'). Replace direct localStorage calls with the new API client functions. Update any React hooks or components that read/write project data. Ensure loading states are handled during async operations. Test the UI to verify projects load and save correctly.\n5. **Implement localStorage to JSON file migration** - Create packages/ui/src/lib/migration.ts with a migrateFromLocalStorage() function. Check for existing projects in localStorage on app init. If found, send to backend via createProject API calls, then clear localStorage. Add a migration flag to localStorage to prevent re-migration. Show a loading indicator during migration.\n6. **Add backend tests for storage service and API** - Create packages/server/src/services/storage.service.test.ts. Test file creation, reading, writing, updating, deleting, and error cases (corrupted JSON, missing files). Create packages/server/src/routes/projects.test.ts. Test each endpoint with valid/invalid data. Use jest with fs mock or temp directory for file system tests.\n\n**Risks \u0026 Considerations:**\n- Concurrent write conflicts if multiple browser tabs modify the same project\n- Data loss if migration fails partway through - need transaction-like behavior\n- File system permissions issues on different operating systems\n- Large project files causing performance issues\n- Backward compatibility if users have existing localStorage data and server is unavailable\n","created_at":"2025-12-24T06:54:02Z"},{"id":5,"issue_id":"server-d98","author":"garymjr","text":"âœ… Completed by agent:\n\nLet me start implementing:","created_at":"2025-12-24T07:27:46Z"},{"id":6,"issue_id":"server-d98","author":"garymjr","text":"âœ… Completed by agent:\n\nI'll help you implement JSON file system storage for projects. Let me start by exploring the codebase to understand the current implementation.","created_at":"2025-12-24T07:32:17Z"},{"id":7,"issue_id":"server-d98","author":"garymjr","text":"âœ… Completed by agent:\n\nI'll help you implement JSON file system storage for projects. Let me start by exploring the codebase to understand the current implementation.","created_at":"2025-12-24T07:33:02Z"}]}
{"id":"server-d98.1","title":"Create file system storage service on backend","description":"Create packages/server/src/services/storage.service.ts with functions for reading/writing JSON files. Implement createProject, getProject, listProjects, updateProject, and deleteProject methods. Use Node.js fs.promises for async file operations. Create a .data/projects directory if it doesn't exist. Add proper error handling for ENOENT, EACCES, and JSON parse errors.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T23:54:02.669573-07:00","updated_at":"2025-12-23T23:54:02.669573-07:00","dependencies":[{"issue_id":"server-d98.1","depends_on_id":"server-d98","type":"parent-child","created_at":"2025-12-23T23:54:02.67015-07:00","created_by":"daemon"}]}
{"id":"server-d98.2","title":"Create REST API endpoints for project CRUD","description":"Add routes in packages/server/src/routes/projects.ts for GET /api/projects (list), GET /api/projects/:id (read), POST /api/projects (create), PUT /api/projects/:id (update), DELETE /api/projects/:id (delete). Integrate with storage.service.ts. Add request validation using zod or similar. Return proper HTTP status codes (200, 201, 404, 400, 500). Register routes in the main server file.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T23:54:02.706979-07:00","updated_at":"2025-12-23T23:54:02.706979-07:00","dependencies":[{"issue_id":"server-d98.2","depends_on_id":"server-d98","type":"parent-child","created_at":"2025-12-23T23:54:02.70734-07:00","created_by":"daemon"}]}
{"id":"server-d98.3","title":"Create API client service on frontend","description":"Create packages/ui/src/lib/api/projects.ts with functions matching the backend endpoints (getProjects, getProject, createProject, updateProject, deleteProject). Use fetch or axios for HTTP requests. Implement proper error handling with try/catch and typed return values. Add loading state management if needed.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T23:54:02.742316-07:00","updated_at":"2025-12-23T23:54:02.742316-07:00","dependencies":[{"issue_id":"server-d98.3","depends_on_id":"server-d98","type":"parent-child","created_at":"2025-12-23T23:54:02.742705-07:00","created_by":"daemon"}]}
{"id":"server-d98.4","title":"Update frontend to use API instead of localStorage","description":"Find all localStorage usage in packages/ui (grep for 'localStorage'). Replace direct localStorage calls with the new API client functions. Update any React hooks or components that read/write project data. Ensure loading states are handled during async operations. Test the UI to verify projects load and save correctly.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T23:54:02.775143-07:00","updated_at":"2025-12-23T23:54:02.775143-07:00","dependencies":[{"issue_id":"server-d98.4","depends_on_id":"server-d98","type":"parent-child","created_at":"2025-12-23T23:54:02.775462-07:00","created_by":"daemon"}]}
{"id":"server-d98.5","title":"Implement localStorage to JSON file migration","description":"Create packages/ui/src/lib/migration.ts with a migrateFromLocalStorage() function. Check for existing projects in localStorage on app init. If found, send to backend via createProject API calls, then clear localStorage. Add a migration flag to localStorage to prevent re-migration. Show a loading indicator during migration.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T23:54:02.806618-07:00","updated_at":"2025-12-23T23:54:02.806618-07:00","dependencies":[{"issue_id":"server-d98.5","depends_on_id":"server-d98","type":"parent-child","created_at":"2025-12-23T23:54:02.806988-07:00","created_by":"daemon"}]}
{"id":"server-d98.6","title":"Add backend tests for storage service and API","description":"Create packages/server/src/services/storage.service.test.ts. Test file creation, reading, writing, updating, deleting, and error cases (corrupted JSON, missing files). Create packages/server/src/routes/projects.test.ts. Test each endpoint with valid/invalid data. Use jest with fs mock or temp directory for file system tests.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T23:54:02.837217-07:00","updated_at":"2025-12-23T23:54:02.837217-07:00","dependencies":[{"issue_id":"server-d98.6","depends_on_id":"server-d98","type":"parent-child","created_at":"2025-12-23T23:54:02.837569-07:00","created_by":"daemon"}]}
{"id":"server-hsd","title":"Test title and labels generation","description":"Testing title and labels generation","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T21:39:18.019592-07:00","updated_at":"2025-12-23T21:39:18.019592-07:00","labels":["task-mgmt","tests","validation"]}
